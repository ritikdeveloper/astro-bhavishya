# ==============================
# Database Configuration
# ==============================
# IMPORTANT: Set these environment variables in your deployment environment
# DO NOT use default values in production
spring.datasource.url=${JDBC_DATABASE_URL}
spring.datasource.username=${JDBC_DATABASE_USERNAME}
spring.datasource.password=${JDBC_DATABASE_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.main.allow-circular-references=true

# ==============================
# Server Configuration for Elastic Beanstalk
# ==============================
server.port=5000

# ==============================
# Razorpay Configuration
# ==============================
# IMPORTANT: Set these environment variables in your deployment environment
razorpay.key.id=${RAZORPAY_KEY_ID}
razorpay.key.secret=${RAZORPAY_KEY_SECRET}

# ==============================
# JWT Configuration
# ==============================
# IMPORTANT: Set these environment variables in your deployment environment
# Generate a strong, unique JWT secret for production
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ==============================
# Logging Configuration
# ==============================
logging.level.org.springframework.security=INFO
logging.level.com.astro=INFO
logging.level.root=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ==============================
# Health Check Configuration
# ==============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.db.enabled=true

# ==============================
# AWS Elastic Beanstalk Configuration
# ==============================
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# ==============================
# Security Configuration
# ==============================
# Disable unnecessary endpoints in production
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never
management.security.enabled=true

# ==============================
# HTTP Security Headers
# ==============================
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict
